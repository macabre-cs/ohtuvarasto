{% extends "base.html" %}

{% block title %}{{ warehouse.name }} - {% if theme == 'gothic' %}Gothic Warehouse{% else %}Kawaii Warehouse{% endif %}{% endblock %}

{% block content %}
<div class="card">
    <h2>{{ warehouse.name }}</h2>
    
    <div class="warehouse-info">
        <p>ğŸ“Š <strong>Current Balance:</strong> {{ warehouse.varasto.saldo }}</p>
        <p>ğŸ“ <strong>Total Capacity:</strong> {{ warehouse.varasto.tilavuus }}</p>
        <p>ğŸ“­ <strong>Free Space:</strong> {{ warehouse.varasto.paljonko_mahtuu() }}</p>
    </div>
    
    {% set fill_percent = (warehouse.varasto.saldo / warehouse.varasto.tilavuus * 100) if warehouse.varasto.tilavuus > 0 else 0 %}
    <div class="progress-bar" style="height: 30px;">
        <div class="progress-fill" style="width: {{ fill_percent }}%"></div>
    </div>
    <p style="text-align: center;" class="fill-text">{{ "%.1f"|format(fill_percent) }}% full</p>
</div>

<div class="card">
    <h2>Add Content</h2>
    <form method="POST" action="{{ url_for('add_content', warehouse_id=warehouse_id) }}" class="inline-form">
        <input type="number" name="amount" placeholder="Amount..." min="0.1" step="0.1" required>
        <button type="submit" class="btn btn-success">â• Add</button>
    </form>
</div>

<div class="card">
    <h2>Remove Content</h2>
    <form method="POST" action="{{ url_for('remove_content', warehouse_id=warehouse_id) }}" class="inline-form">
        <input type="number" name="amount" placeholder="Amount..." min="0.1" step="0.1" required>
        <button type="submit" class="btn btn-danger">â– Remove</button>
    </form>
</div>

<div class="card">
    <h2>Manage Warehouse</h2>
    <div class="action-buttons">
        <a href="{{ url_for('edit_warehouse', warehouse_id=warehouse_id) }}" class="btn btn-secondary">âœï¸ Edit Name</a>
        <form method="POST" action="{{ url_for('delete_warehouse', warehouse_id=warehouse_id) }}" style="display: inline;">
            <button type="submit" class="btn btn-danger" onclick="return confirm('{% if theme == 'gothic' %}Are you sure you want to destroy this warehouse? â˜ ï¸{% else %}Are you sure you want to delete this warehouse? ğŸ˜¢{% endif %}')">ğŸ—‘ï¸ Delete Warehouse</button>
        </form>
    </div>
</div>

<div style="text-align: center; margin-top: 20px;">
    <a href="{{ url_for('index') }}" class="btn btn-primary">â† Back to All Warehouses</a>
</div>
{% endblock %}
