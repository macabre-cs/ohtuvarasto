{% extends "base.html" %}

{% block title %}{% if theme == 'gothic' %}Gothic Warehouse{% else %}Kawaii Warehouse{% endif %} - Home{% endblock %}

{% block content %}
<div class="card">
    <h2>My Warehouses</h2>
    
    {% if warehouses %}
    <div class="warehouse-grid">
        {% for warehouse_id, warehouse in warehouses.items() %}
        <div class="warehouse-card">
            <h3>{{ warehouse.name }}</h3>
            <div class="warehouse-info">
                <p>ğŸ“Š Balance: {{ warehouse.varasto.saldo }}</p>
                <p>ğŸ“ Capacity: {{ warehouse.varasto.tilavuus }}</p>
                <p>ğŸ“­ Free space: {{ warehouse.varasto.paljonko_mahtuu() }}</p>
            </div>
            {% set fill_percent = (warehouse.varasto.saldo / warehouse.varasto.tilavuus * 100) if warehouse.varasto.tilavuus > 0 else 0 %}
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{ fill_percent }}%"></div>
            </div>
            <div class="action-buttons">
                <a href="{{ url_for('view_warehouse', warehouse_id=warehouse_id) }}" class="btn btn-primary">View {% if theme == 'gothic' %}ğŸ”®{% else %}ğŸ‘€{% endif %}</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <p>No warehouses yet!</p>
        <p>Create your first {% if theme == 'gothic' %}dark{% else %}kawaii{% endif %} warehouse {% if theme == 'gothic' %}ğŸ•¯ï¸{% else %}âœ¨{% endif %}</p>
        <a href="{{ url_for('create_warehouse') }}" class="btn btn-primary" style="margin-top: 20px;">Create Warehouse {% if theme == 'gothic' %}âš°ï¸{% else %}ğŸ€{% endif %}</a>
    </div>
    {% endif %}
</div>
{% endblock %}
